extends layout.pug
block extraHeader
    link(rel="stylesheet" href="cart.css")
    script(type="text/javascript").
        $(document).ready(function(){
            $(document).on('click','.plus',function(){
                var id = $(this).closest('.qty').attr('id'); // Select closest .qty from the selection element
                $('#input'+id).val(parseInt($('#input'+id).val()) + 1 );
            });
            $(document).on('click','.minus',function(){
                var id = $(this).closest('.qty').attr('id'); // Select closest .qty from the selection element
                $('#input'+id).val(parseInt($('#input'+id).val()) - 1 );
                    if ($('#input'+id).val() == 0) {
                        $('#input'+id).val(1);
                    }
            });
        });

        $("#checkAll").click(function(){
            $('input:checkbox').not(this).prop('checked', this.checked);
        });
block content
    //New
    .container-fluid.form
        .main-body.row
            .col-2
            form.card-body.col-8(method='POST' action='/order')
                .cart-head.row
                    .col-1     
                    .col-5 
                        p Book
                    .col-2
                        p Price
                    .col-2
                        p Qty
                    .col-2
                - var n = 0;
                    each value in bookData
                        .row.cart-body
                            .col-1
                                input(class="form-check-input checkbox-2x" name='checkbox' + bookData[n]._id.valueOf() type="checkbox")
                            .col-5.row
                                img(src=bookData[n].bookImage[0] class="col-4" style="width: 80px; height: 80px;")
                                p.col-8=bookData[n].bookname
                            .col-2.bookPrice
                                p=bookData[n].sellPrice + "$"
                            .col-2
                                .qty(id=bookData[n]._id.valueOf())
                                    <span class="minus bg-dark">-</span>
                                    input(id='input'+bookData[n]._id.valueOf() type="number" class="count" name='quantity '+bookData[n]._id.valueOf() value="1")
                                    <span class="plus bg-dark">+</span>
                            .col-2
                                a(href="/cart?itemId="+bookData[n]._id.valueOf())
                                    i(class="far fa-trash-alt fa-2x" style="color: red")
                        -n++ ;
                .cart-tail
                    .row.d-flex.justify-content-end
                        .col-8
                        <div class="input-group mb-3 col-4">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="inputGroup-sizing-default">Promo Code</span>
                            </div>
                            <input type="text" name='promoCode' class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default">
                        </div>
                    .row.d-flex.justify-content-end
                        button(type="submit" class="btn") ORDER
            .col-2
